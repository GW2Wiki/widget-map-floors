<noinclude>the scripts for [[Widget:Map floors]] - should be included once per page that displays any amount of maps (WIP), preferably in common.js</noinclude>
<includeonly><script>

	function ES6check(){

		if(typeof Symbol == 'undefined'){
			return false;
		}

		try{
			eval('class Foo {}');
			eval('let bar = (x) => x+1');
		}
		catch(e){
			return false;
		}

		return true;
	}

	var GW2MapInvokerOptions = {
		containerClassName: 'gw2map',
		linkboxClassName  : 'gw2map-linkbox',
		navClassName      : 'gw2map-nav',
		scriptContainerId : 'gw2map-script',
		scripts           : [
			'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet-src.js',
//			'https://unpkg.com/leaflet-ant-path@1.3.0/dist/leaflet-ant-path.js',
			'https://cdn.rawgit.com/GW2Wiki/widget-map-floors/master/src/gw2wiki-additions.js',
		],
		stylesheets :[
			'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css',
			'https://cdn.jsdelivr.net/gh/GW2Wiki/widget-map-floors@master/css/widget-map-floors.css',
		],
	};

	var GW2MapContainers = document.querySelectorAll('.'+GW2MapInvokerOptions.containerClassName);

	if(GW2MapContainers.length){

		var s = document.createElement('script');
		var e = document.getElementsByTagName('body')[0].getElementsByTagName('script')[0];

		s.id  = GW2MapInvokerOptions.scriptContainerId;
		s.src = ES6check()
			? 'https://cdn.rawgit.com/GW2Wiki/widget-map-floors/master/src/widget-map-floors.js'
			: 'https://cdn.rawgit.com/GW2Wiki/widget-map-floors/master/src/widget-map-floors-babel.js';

		e.parentNode.insertBefore(s, e);
	}

</script></includeonly>
