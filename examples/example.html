<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>GW2 Wiki Maps</title>
</head>
<body>

<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="1"
     data-include-maps="26,27,28,29,30,31,326,807,1178,1310"
     data-custom-rect="[[17664, 4564], [26508, 22076]]"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="2"
     data-include-maps="19,20,21,22,25,32,218"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="3"
     data-include-maps="51,62,65,1203"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="4"
     data-include-maps="15,17,18,23,24,50,73,335,873,1185"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="5"
     data-include-maps="34,35,54,91,139"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="8"
     data-include-maps="39,53,922"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="10"
     data-include-maps="1041,1043,1045,1052,1069,1147,1149,1156,1165,1188"
     data-custom-rect="[[0, 3776], [15136, 24832]]"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="11"
     data-include-maps="988,1015"
     data-custom-rect="[[2760, 11448], [6948, 17852]]"
></div>
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="20"
     data-include-maps="1175,1195"
     data-custom-rect="[[1344, 23152], [9544, 32000]]"
></div>

<!--<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id="12"
     data-include-maps="1263,1268"
     data-custom-rect="[[ 15872, 40960 ], [25576,48000]]"
></div>-->
<div class="gw2map"
     data-continent-id="1"
     data-floor-id="49"
     data-region-id="12"
     data-include-maps="1210,1211,1226,1228,1232,1248,1271,1288,1301,1317"
     data-custom-rect="[[10240, 22832], [36600, 49152]]"
     data-custom-floor="1"
></div>

<div class="gw2map"
     data-continent-id="1"
     data-floor-id="1"
     data-region-id=""
     data-include-maps="26,27,28,29,30,31,326,807,1178,1310,19,20,21,22,25,32,218,51,62,65,1203,15,17,18,23,24,50,73,335,873,1185,34,35,54,91,139,39,53,922,1041,1043,1045,1052,1069,1147,1149,1156,1165,1188,988,1015,1175,1195"
     data-custom-rect="[[0,0], [49152, 49152]]"
></div>


<script>
	'use strict';

	function ES6check(){

		if(typeof Symbol == 'undefined'){
			return false;
		}

		try{
			eval('class Foo {}');
			eval('let bar = (x) => x+1');
		}
		catch(e){
			return false;
		}

		return true;
	}

	var GW2MapInvokerOptions = {
		containerClassName: 'gw2map',
		linkboxClassName  : 'gw2map-linkbox',
		navClassName      : 'gw2map-nav',
		scriptContainerId : 'gw2map-script',
		scripts           : [
			'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet-src.js',
//			'https://unpkg.com/leaflet-ant-path@1.3.0/dist/leaflet-ant-path.js',
			'../src/gw2wiki-additions.js',
		],
		stylesheets :[
			'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css',
			'https://d1h9a8s8eodvjz.cloudfront.net/fonts/menomonia/08-02-12/menomonia.css',
			'https://d1h9a8s8eodvjz.cloudfront.net/fonts/menomonia/08-02-12/menomonia-italic.css',
//			'https://cdn.jsdelivr.net/gh/GW2Wiki/widget-map-floors@master/css/widget-map-floors.css',
			'../css/widget-map-floors.css'
		],
	};

	var GW2MapContainers = document.querySelectorAll('.'+GW2MapInvokerOptions.containerClassName);

	if(GW2MapContainers.length){

		var s = document.createElement('script');
		var e = document.getElementsByTagName('body')[0].getElementsByTagName('script')[0];

		s.id  = GW2MapInvokerOptions.scriptContainerId;
		s.src = ES6check()
		        ? '../src/widget-map-floors.js'
		        : '../src/widget-map-floors-babel.js';

		e.parentNode.insertBefore(s, e);
	}

</script>
</body >
</html >
